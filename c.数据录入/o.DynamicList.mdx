# DynamicList 动态列表

动态列表，支持在 Form 中对指定数据列表做 CURD 操作的强大组件。

## 使用场景

- 需要在表单中编辑列表项时。

- 需要高度自定义的产出列表数据时。

## 示例

<Notice type='warning'>注意：动态列表需要配合特定的setting来使用。</Notice>

```json
{
	"DynamicList": {
		"label": "DynamicList",
		"edit": {
			"type": "dynamicList",
			"props": {
				"setting": "dynamic",
				"value": ":dynamic",
				"query": {
					"sort": "$index"
				}
			}
		}
	}
}
```

<Detail title="/api/xiang/setting/dynamic">

```json
{
	"label": "配置",
	"version": "1.0.0",
	"description": "配置",
	"nodes": [],
	"output": {
		"columns": {
			"文字": {
				"label": "文字",
				"edit": {
					"type": "label",
					"props": {
						"value": "每"
					}
				}
			},
			"分组": {
				"label": "分组",
				"edit": {
					"type": "input",
					"props": {
						"value": ":group"
					}
				}
			},
			"指标类型": {
				"label": "指标类型",
				"edit": {
					"type": "select",
					"props": {
						"value": ":type",
						"options": [
							{
								"label": "身高",
								"value": "身高"
							},
							{
								"label": "体重",
								"value": "体重"
							}
						]
					}
				}
			},
			"计算符": {
				"label": "计算符",
				"edit": {
					"type": "select",
					"props": {
						"value": ":calc",
						"options": [
							{
								"label": "大于等于",
								"value": "大于等于"
							},
							{
								"label": "小于",
								"value": "小于"
							}
						]
					}
				}
			},
			"数值": {
				"label": "数值",
				"edit": {
					"type": "select",
					"props": {
						"value": ":value",
						"options": [
							{
								"label": "0",
								"value": 0
							},
							{
								"label": "100",
								"value": 100
							},
							{
								"label": "200",
								"value": 200
							}
						]
					}
				}
			}
		},
		"list": {
			"primary": "id",
			"layout": {
				"columns": [
					{
						"name": "分组",
						"width": 23
					},
					{
						"name": "文字",
						"width": 1
					}
				],
				"children": [
					{
						"name": "指标类型",
						"width": 8
					},
					{
						"name": "计算符",
						"width": 8
					},
					{
						"name": "数值",
						"width": 8
					}
				]
			}
		}
	}
}
```

</Detail>

## Props

```ts
interface IProps extends InputProps {
	value: string
	setting: string
	query?: { [key: string]: string }
}
```

## API

| 属性    | 说明                                         | 类型            | 默认值 | 必填 | 版本 |
| ------- | -------------------------------------------- | --------------- | ------ | ---- | ---- |
| value   | 绑定值                                       | string          | -      | 是   |      |
| setting | setting 名称                                 | string          | -      | 是   |      |
| query   | 提交参数，将会在提交数据时原样整合到 data 中 | IProps['query'] | -      | 否   |      |
